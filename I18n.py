en_us_i18n = {
    "语言格式错误, 已重置为默认值zh_CN": "Language format error, reset to default value zh_CN",
    "分隔符格式错误, 已重置为默认值----": "Delimiter format error, reset to default value ----",
    "浏览器格式错误, 已重置为默认值edge": "Browser format error, reset to default value edge",
    "imap服务器格式错误, 已重置为空": "IMAP server format error, reset to empty",
    "imap用户名格式错误, 已重置为空": "IMAP username format error, reset to empty",
    "imap密码格式错误, 已重置为空": "IMAP password format error, reset to empty",
    "检测到您使用的是QQ邮箱, 请注意QQ邮箱的IMAP功能需要手动开启,以及需要的是授权码而非密码": "It is detected that you are using QQ mailbox. Please note that the IMAP function of QQ mailbox needs to be turned on manually, and the authorization code is required instead of the password",
    "IMAP连接失败": "IMAP connection failed",
    "接受Cookies发生错误": "An error occurred while accepting cookies",
    " 失败": " failed",
    "登录时发生错误": "An error occurred while logging in",
    " 成功": " success",
    "改密时发生错误": "An error occurred while changing password",
    "登出时发生错误": "An error occurred while logging out",
    "IMAP获取验证码失败": "IMAP failed to get verification code",
    "IMAP获取验证码失败  请检查是否打开了IMAP": "IMAP failed to get verification code.Please check imap is on?",
    " 邮箱验证码获取失败": " Email verification code acquisition failed",
    "webDriver创建失败!": "webDriver creation failed!",
    "按回车键退出...": "Press Enter to exit...",
    '!!! 新版本可用 !!! 从此处下载:': '!!! New version available !!! Download from here:',
    '程序启动': 'Program startup',
    "密码强度不足": "Password strength is insufficient",
    '请我喝杯咖啡吧~https://github.com/Yudaotor': 'Buy me a cup of coffee~https://github.com/Yudaotor',
    "检测到您使用的是谷歌邮箱, 请注意谷歌邮箱不可用 但是可以通过在谷歌邮箱设置中配置转发到其他可以支持的邮箱来获取验证码": "It is detected that you are using Google mailbox. Please note that Google mailbox is not available, but you can configure it to forward to other supported mailboxes in the Google mailbox settings to get the verification code",
    '程序结束': 'Program end',
    "----程序退出, 将在3秒后结束-----": "----Program exit, will end in 3 seconds-----",
    "----修改成功的新账号密码请于newAccounts文件夹中查看-----": "----The new account password that was successfully modified can be viewed in the newAccounts folder-----",
    "----本次运行结果可于log文件夹中查看-----": "----The results of this run can be viewed in the log folder-----",
    "选择了不支持的浏览器": "Selected an unsupported browser",
    "初始化webdriver失败,请检查是否对应浏览器是否已经是最新版本.": "Failed to initialize webdriver, please check whether the corresponding browser is the latest version.",
    "检测到您使用的是网易邮箱, 请注意网易邮箱的IMAP功能需要手动开启,以及需要的是授权码而非密码": "It is detected that you are using NetEase mailbox. Please note that the IMAP function of NetEase mailbox needs to be turned on manually, and the authorization code is required instead of the password",
    "延迟格式错误, 已重置为默认值10": "Delay format error, reset to default value 10",
    "遇到图片验证码": "Encounter image captcha",
    "读取邮件延迟当前为: ": "Read mail delay is currently: ",
    "改密网站载入失败": "Failed to load password change website",
    "程序结束, 即将退出": "Program end, will exit soon",
    "本次运行结果可于log文件夹中查看": "The results of this run can be viewed in the log folder",
    "秒": " seconds",
    "获取验证码失败": "Failed to get verification code",
    '请我喝杯咖啡吧~': 'Buy me a cup of coffee~',
    "获取对应邮件失败 请调整imapDelay到合适时间": "Failed to get the corresponding email, please adjust the imapDelay to the appropriate time",
    "IMAP获取验证码失败 请检查是否打开了IMAP": "IMAP failed to get verification code.Please check imap is on?",
    "修改成功的新账号密码请于newAccounts文件夹中查看": "The new account password that was successfully modified can be viewed in the newAccounts folder",
}
zh_tw_i18n = {
    "语言格式错误, 已重置为默认值zh_CN": "語言格式錯誤，已重置為默認值zh_CN",
    "分隔符格式错误, 已重置为默认值----": "分隔符格式錯誤，已重置為默認值----",
    "获取对应邮件失败 请调整imapDelay到合适时间": "獲取對應郵件失敗 請調整imapDelay到合適時間",
    "检测到您使用的是谷歌邮箱, 请注意谷歌邮箱不可用 但是可以通过在谷歌邮箱设置中配置转发到其他可以支持的邮箱来获取验证码": "檢測到您使用的是谷歌郵箱，請注意谷歌郵箱不可用 但是可以通過在谷歌郵箱設置中配置轉發到其他可以支持的郵箱來獲取驗證碼",
    "浏览器格式错误, 已重置为默认值edge": "瀏覽器格式錯誤，已重置為默認值edge",
    "imap服务器格式错误, 已重置为空": "imap服務器格式錯誤，已重置為空",
    "imap用户名格式错误, 已重置为空": "imap用戶名格式錯誤，已重置為空",
    "获取验证码失败": "獲取驗證碼失敗",
    "本次运行结果可于log文件夹中查看": "本次運行結果可於log文件夾中查看",
    "IMAP获取验证码失败 请检查是否打开了IMAP": "IMAP獲取驗證碼失敗 請檢查是否打開了IMAP",
    "imap密码格式错误, 已重置为空": "imap密碼格式錯誤，已重置為空",
    "检测到您使用的是QQ邮箱, 请注意QQ邮箱的IMAP功能需要手动开启,以及需要的是授权码而非密码": "檢測到您使用的是QQ郵箱，請注意QQ郵箱的IMAP功能需要手動開啟，以及需要的是授權碼而非密碼",
    "IMAP连接失败": "IMAP連接失敗",
    "接受Cookies发生错误": "接受Cookies發生錯誤",
    "改密网站载入失败": "改密網站載入失敗",
    "修改成功的新账号密码请于newAccounts文件夹中查看": "修改成功的新賬號密碼請於newAccounts文件夾中查看",
    "程序结束, 即将退出": "程序結束，即將退出",
    '请我喝杯咖啡吧~': '請我喝杯咖啡吧~',
    "秒": " 秒",
    " 失败": " 失敗",
    "登录时发生错误": "登錄時發生錯誤",
    '请我喝杯咖啡吧~https://github.com/Yudaotor': '請我喝杯咖啡吧~https://github.com/Yudaotor',
    " 成功": " 成功",
    "改密时发生错误": "改密時發生錯誤",
    "IMAP获取验证码失败  请检查是否打开了IMAP": "IMAP獲取驗證碼失敗 請檢查是否打開了IMAP",
    "登出时发生错误": "登出時發生錯誤",
    "IMAP获取验证码失败": "IMAP獲取驗證碼失敗",
    " 邮箱验证码获取失败": " 郵箱驗證碼獲取失敗",
    "webDriver创建失败!": "webDriver創建失敗!",
    "按回车键退出...": "按回車鍵退出...",
    '!!! 新版本可用 !!! 从此处下载:': '!!! 新版本可用 !!! 從此處下載:',
    '程序启动': '程序啟動',
    '程序结束': '程序結束',
    "----程序退出, 将在3秒后结束-----": "----程序退出，將在3秒後結束-----",
    "----修改成功的新账号密码请于newAccounts文件夹中查看-----": "----修改成功的新賬號密碼請於newAccounts文件夾中查看-----",
    "----本次运行结果可于log文件夹中查看-----": "----本次運行結果可於log文件夾中查看-----",
    "选择了不支持的浏览器": "選擇了不支持的瀏覽器",
    "初始化webdriver失败,请检查是否对应浏览器是否已经是最新版本.": "初始化webdriver失敗，請檢查是否對應瀏覽器是否已經是最新版本。",
    "检测到您使用的是网易邮箱, 请注意网易邮箱的IMAP功能需要手动开启,以及需要的是授权码而非密码": "檢測到您使用的是網易郵箱，請注意網易郵箱的IMAP功能需要手動開啟，以及需要的是授權碼而非密碼",
    "延迟格式错误, 已重置为默认值10": "延遲格式錯誤，已重置為默認值10",
    "密码强度不足": "密碼強度不足",
    "遇到图片验证码": "遇到圖片驗證碼",
    "读取邮件延迟当前为: ": "讀取郵件延遲當前為: ",
}


def _(text, color, lang="zh_CN"):
    """
    A function that formats text with a specified color based on the given language.

    Args:
        text (str): The text to be formatted.
        color (str): The color to format the text with, specified using BBCode format.
        lang (str): The language of the text. Defaults to "zh_CN".

    Returns:
        str: The formatted text with the specified color and language.
    """
    raw_text = text
    language_map = {
        "zh_CN": f"[{color}]{text}[/]",
        "en_US": f"[{color}]{en_us_i18n.get(text, f'{raw_text} No translation there. Please contact the developer.')}[/]",
        "zh_TW": f"[{color}]{zh_tw_i18n.get(text, raw_text)}[/]"
    }
    return language_map.get(lang, text)


def _log(text, lang="zh_CN"):
    """
    Logs the given text with language support.

    Args:
        text (str): The text to be logged.
        lang (str, optional): The language of the text. Defaults to "zh_CN".

    Returns:
        str: The logged text in the specified language, or the original text if translation is not available.
    """
    raw_text = text
    language_map = {
        "zh_CN": raw_text,
        "en_US": en_us_i18n.get(text, f"{raw_text} No translation there. Please contact the developer."),
        "zh_TW": zh_tw_i18n.get(text, raw_text)
    }
    return language_map.get(lang, text)
